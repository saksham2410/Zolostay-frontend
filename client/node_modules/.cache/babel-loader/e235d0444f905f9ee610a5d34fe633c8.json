{"ast":null,"code":"import _defineProperty from \"/Users/saksham/Desktop/Hotel-Booking/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/saksham/Desktop/Hotel-Booking/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/saksham/Desktop/Hotel-Booking/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/saksham/Desktop/Hotel-Booking/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/saksham/Desktop/Hotel-Booking/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/saksham/Desktop/Hotel-Booking/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/saksham/Desktop/Hotel-Booking/client/src/components/hotels/HotelShow.js\";\nimport React from 'react';\nimport axios from '../../config/axios';\nimport { Link } from 'react-router-dom';\nimport Spinner from '../commons/Spinner';\nimport StarRating from '../commons/StarRating';\n\nvar HotelShow =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(HotelShow, _React$Component);\n\n  function HotelShow(props) {\n    var _this;\n\n    _classCallCheck(this, HotelShow);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(HotelShow).call(this, props));\n\n    _this.handleForm = function (e) {\n      e.preventDefault();\n      var formData = {\n        hotelName: _this.state.hotel.name,\n        name: _this.state.name,\n        email: _this.state.email,\n        mobile: _this.state.mobile,\n        noOfGuests: _this.state.noGuests,\n        checkInDate: _this.state.checkInDate,\n        checkOutDate: _this.state.checkOutDate\n      };\n      axios.post('/bookings', formData).then(function (response) {\n        alert('Room booked');\n\n        _this.props.history.push('/');\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    _this.handleBook = function () {\n      if (localStorage.getItem('token')) {\n        _this.setState(function (prevState) {\n          return {\n            viewForm: !prevState.viewForm\n          };\n        });\n      } else {\n        // setTimeout(() => {\n        //     this.setState(()=>({\n        //         displayAlert : false\n        //     }))\n        // }, 2000);\n        _this.setState(function () {\n          return {\n            displayAlert: true\n          };\n        });\n      }\n    };\n\n    _this.handleChange = function (e) {\n      e.persist();\n\n      _this.setState(function () {\n        return _defineProperty({}, e.target.name, e.target.value);\n      });\n    };\n\n    _this.state = {\n      displayAlert: false,\n      hotel: {},\n      isLoaded: false,\n      viewForm: false,\n      name: '',\n      email: '',\n      mobile: '',\n      noGuests: 0,\n      checkInDate: '',\n      checkOutDate: ''\n    };\n    return _this;\n  }\n\n  _createClass(HotelShow, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var id = this.props.match.params.id;\n      axios.get(\"/hotels/\".concat(id)).then(function (response) {\n        _this2.setState(function () {\n          return {\n            hotel: response.data,\n            isLoaded: true\n          };\n        });\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, this.state.isLoaded ? React.createElement(\"div\", {\n        className: \"mt-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"jumbotron jumbotron-fluid\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"display-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, this.state.hotel.name), React.createElement(StarRating, {\n        rating: this.state.hotel.reviews[0].rating,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        className: \"lead\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, this.state.hotel.categories, \"   \"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-primary\",\n        onClick: this.handleBook,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, \"Book rooms\"), this.state.displayAlert && React.createElement(\"span\", {\n        className: \"alert alert-danger alert-dismissible ml-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, \"Please login to book rooms\", React.createElement(Link, {\n        to: \"/users/signin\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, \"Click here to login\")))), this.state.viewForm && React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        className: \"border ml-5 mr-5\",\n        onSubmit: this.handleForm,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row mb-2 \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        name: \"name\",\n        value: this.state.name,\n        onChange: this.handleChange,\n        placeholder: \"Name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"email\",\n        className: \"form-control\",\n        name: \"email\",\n        value: this.state.email,\n        onChange: this.handleChange,\n        placeholder: \"Email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"row mb-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        name: \"mobile\",\n        value: this.state.mobile,\n        onChange: this.handleChange,\n        placeholder: \"Mobile number\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        name: \"noGuests\",\n        value: this.state.noGuests,\n        onChange: this.handleChange,\n        placeholder: \"No of guests\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"row mb-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"date\",\n        className: \"form-control\",\n        name: \"checkInDate\",\n        value: this.state.checkInDate,\n        onChange: this.handleChange,\n        placeholder: \"Check-In date\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"date\",\n        className: \"form-control\",\n        name: \"checkOutDate\",\n        value: this.state.checkOutDate,\n        onChange: this.handleChange,\n        placeholder: \"Check-out-date\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"row mb-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-8 offset-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, \"Book\"))))), React.createElement(\"div\", {\n        id: \"carouselExampleControls\",\n        className: \"carousel slide\",\n        \"data-ride\": \"carousel\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"carousel-inner\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"carousel-item active\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"d-block w-100\",\n        src: \"https://via.placeholder.com/50x50\",\n        alt: \"First slide\",\n        style: {\n          height: \"500px\",\n          width: \"100px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"carousel-item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"d-block w-100\",\n        src: \"https://via.placeholder.com/50x51\",\n        alt: \"Second slide\",\n        style: {\n          height: \"500px\",\n          width: \"100px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"carousel-item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"d-block w-100\",\n        src: \"https://via.placeholder.com/50x52\",\n        alt: \"Third slide\",\n        style: {\n          height: \"500px\",\n          width: \"100px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }))), React.createElement(\"a\", {\n        className: \"carousel-control-prev\",\n        href: \"#carouselExampleControls\",\n        role: \"button\",\n        \"data-slide\": \"prev\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"carousel-control-prev-icon\",\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"sr-only\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, \"Previous\")), React.createElement(\"a\", {\n        className: \"carousel-control-next\",\n        href: \"#carouselExampleControls\",\n        role: \"button\",\n        \"data-slide\": \"next\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"carousel-control-next-icon\",\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"sr-only\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, \"Next\"))), React.createElement(\"div\", {\n        className: \"ml-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, \"Reviews\"), React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, this.state.hotel.reviews[0].username), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, this.state.hotel.reviews[0].text)))) : React.createElement(Spinner, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return HotelShow;\n}(React.Component);\n\nexport default HotelShow;","map":{"version":3,"sources":["/Users/saksham/Desktop/Hotel-Booking/client/src/components/hotels/HotelShow.js"],"names":["React","axios","Link","Spinner","StarRating","HotelShow","props","handleForm","e","preventDefault","formData","hotelName","state","hotel","name","email","mobile","noOfGuests","noGuests","checkInDate","checkOutDate","post","then","response","alert","history","push","catch","err","console","log","handleBook","localStorage","getItem","setState","prevState","viewForm","displayAlert","handleChange","persist","target","value","isLoaded","id","match","params","get","data","reviews","rating","categories","height","width","username","text","Component"],"mappings":"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","sourcesContent":["import React from 'react' \r\nimport axios from '../../config/axios'\r\nimport {Link} from 'react-router-dom'\r\n\r\nimport Spinner from '../commons/Spinner'\r\nimport StarRating from '../commons/StarRating'\r\n\r\nclass HotelShow extends React.Component {\r\n    constructor(props) {\r\n        super(props) \r\n        this.state = {\r\n            displayAlert : false,\r\n            hotel: {},\r\n            isLoaded: false,\r\n            viewForm : false,\r\n            name:'',\r\n            email:'',\r\n            mobile:'',\r\n            noGuests: 0 ,\r\n            checkInDate : '',\r\n            checkOutDate :''\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const id = this.props.match.params.id \r\n        axios.get(`/hotels/${id}`)\r\n            .then(response => {\r\n                this.setState(() => ({\r\n                    hotel: response.data, \r\n                    isLoaded: true\r\n\r\n                }))\r\n            })\r\n            .catch(err => console.log(err))      \r\n    }\r\n\r\n    \r\n    handleForm = (e) => {\r\n        e.preventDefault()\r\n        const formData = {\r\n            hotelName:this.state.hotel.name,\r\n            name:this.state.name,\r\n            email:this.state.email,\r\n            mobile:this.state.mobile,\r\n            noOfGuests: this.state.noGuests,\r\n            checkInDate : this.state.checkInDate,\r\n            checkOutDate :this.state.checkOutDate\r\n        }\r\n\r\n        axios.post('/bookings',formData)\r\n            .then((response) => {\r\n                alert('Room booked')\r\n                this.props.history.push('/')\r\n            })\r\n            .catch(err => console.log(err))\r\n\r\n    }\r\n\r\n    handleBook = () => {\r\n        if(localStorage.getItem('token')){\r\n            this.setState((prevState) => ({viewForm: !prevState.viewForm}))\r\n        }\r\n        else{\r\n            // setTimeout(() => {\r\n            //     this.setState(()=>({\r\n            //         displayAlert : false\r\n            //     }))\r\n            // }, 2000);\r\n            \r\n            this.setState(()=>({\r\n                displayAlert : true\r\n            }))\r\n        }\r\n    }\r\n\r\n    handleChange = (e) => {\r\n        e.persist()\r\n        this.setState(() => ({\r\n            [e.target.name]: e.target.value\r\n        }))\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div>\r\n                { this.state.isLoaded ? (\r\n                    <div className=\"mt-5\">\r\n                    <div className=\"jumbotron jumbotron-fluid\">\r\n                        <div className=\"container\">\r\n                            <h1 className=\"display-4\">{this.state.hotel.name}</h1><StarRating rating={this.state.hotel.reviews[0].rating} />\r\n                            <p className=\"lead\">{this.state.hotel.categories}   </p>\r\n                          \r\n                            <p>\r\n                            <button className=\"btn btn-primary\" onClick={this.handleBook} >\r\n                                Book rooms\r\n                            </button>\r\n                            { this.state.displayAlert && <span className=\"alert alert-danger alert-dismissible ml-2\">Please login to book rooms\r\n                            <Link to={`/users/signin`}>Click here to login</Link></span> }\r\n                \r\n                            </p>\r\n                            </div>\r\n                           { this.state.viewForm && \r\n                            (<div>\r\n                             <form className=\"border ml-5 mr-5\" onSubmit={this.handleForm}>\r\n                                <div className=\"row mb-2 \">\r\n                                    <div className=\"col\">\r\n                                    <input type=\"text\" className=\"form-control\"  name=\"name\"\r\n                                            value={this.state.name} onChange={this.handleChange}  placeholder=\"Name\" />\r\n                                    </div>\r\n                                    <div className=\"col\">\r\n                                    <input type=\"email\" className=\"form-control\" name=\"email\"\r\n                                            value={this.state.email} onChange={this.handleChange}  placeholder=\"Email\" />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"row mb-2\">\r\n                                    <div className=\"col\">\r\n                                    <input type=\"text\" className=\"form-control\" name=\"mobile\"\r\n                                            value={this.state.mobile} onChange={this.handleChange} placeholder=\"Mobile number\" />\r\n                                    </div>\r\n                                    <div className=\"col\">\r\n                                    <input type=\"text\" className=\"form-control\" name=\"noGuests\"\r\n                                            value={this.state.noGuests} onChange={this.handleChange}  placeholder=\"No of guests\" />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"row mb-2\">\r\n                                    <div className=\"col\">\r\n                                    <input type=\"date\" className=\"form-control\" name=\"checkInDate\"\r\n                                            value={this.state.checkInDate} onChange={this.handleChange} placeholder=\"Check-In date\" />\r\n                                    </div>\r\n                                    <div className=\"col\">\r\n                                    <input type=\"date\" className=\"form-control\" name=\"checkOutDate\"\r\n                                            value={this.state.checkOutDate} onChange={this.handleChange}  placeholder=\"Check-out-date\" />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"row mb-2\">\r\n                                <div className=\"col-md-8 offset-2\">\r\n                                <button className=\"btn btn-primary\">Book</button>\r\n                                </div>\r\n                                </div>\r\n                             </form>\r\n                            </div>)\r\n                           }\r\n                            \r\n                            <div id=\"carouselExampleControls\" className=\"carousel slide\" data-ride=\"carousel\">\r\n                            <div className=\"carousel-inner\">\r\n                                <div className=\"carousel-item active\">\r\n                                <img className=\"d-block w-100\" src=\"https://via.placeholder.com/50x50\" alt=\"First slide\" style={{ height:\"500px\", width:\"100px\"}} />\r\n                                </div>\r\n                                <div className=\"carousel-item\">\r\n                                <img className=\"d-block w-100\" src=\"https://via.placeholder.com/50x51\" alt=\"Second slide\" style={{ height:\"500px\", width:\"100px\"}} />\r\n                                </div>\r\n                                <div className=\"carousel-item\">\r\n                                <img className=\"d-block w-100\" src=\"https://via.placeholder.com/50x52\" alt=\"Third slide\" style={{ height:\"500px\", width:\"100px\"}} />\r\n                                </div>\r\n                            </div>\r\n                            <a className=\"carousel-control-prev\" href=\"#carouselExampleControls\" role=\"button\" data-slide=\"prev\">\r\n                                <span className=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\r\n                                <span className=\"sr-only\">Previous</span>\r\n                            </a>\r\n                            <a className=\"carousel-control-next\" href=\"#carouselExampleControls\" role=\"button\" data-slide=\"next\">\r\n                                <span className=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\r\n                                <span className=\"sr-only\">Next</span>\r\n                            </a>\r\n                            </div>\r\n                            <div className=\"ml-4\">\r\n                                <h1>Reviews</h1>\r\n                                <h3>{this.state.hotel.reviews[0].username}</h3>\r\n                                <p>{this.state.hotel.reviews[0].text}</p>\r\n                            </div>\r\n                                \r\n                           \r\n                        </div>\r\n                    </div>\r\n                   \r\n                ) : <Spinner /> }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default HotelShow"]},"metadata":{},"sourceType":"module"}